<view class="container">
  <view class="card">
    <form bindsubmit="onAddTask">
      <view style="margin-bottom:6px;"><input name="title" placeholder="任务名称，例如：刷3道LeetCode" /></view>
      <view style="margin-bottom:6px;"><input name="rewardAttr" placeholder="奖励属性，例如：计算机能力" /></view>
      <view style="margin-bottom:6px;"><input name="rewardExp" placeholder="奖励经验，例如：10" type="number" /></view>
      <button formType="submit" class="btn">新增任务</button>
    </form>
  </view>

  <view class="card">
    <view style="font-weight:700; margin-bottom:8px;">任务列表</view>
    <view wx:for="{{tasks}}" wx:key="id" class="task-item" style="margin-bottom:8px;">
      <view style="display:flex; justify-content:space-between; align-items:center;">
        <view>
          <text>{{item.title}}</text>
          <text style="color:#888; margin-left:6px;">（{{item.rewardAttr}} +{{item.rewardExp}}）</text>
        </view>
        <view>
          <button wx:if="{{!item.done}}" bindtap="onComplete" data-id="{{item.id}}">完成</button>
          <text wx:if="{{item.done}}">已完成</text>
        </view>
      </view>
    </view>
  </view>
</view>
